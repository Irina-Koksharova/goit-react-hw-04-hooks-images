{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","services/notification/notification.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Container/Container.jsx","services/notification/notification.js","components/Searchbar/Searchbar.jsx","services/status.js","services/image-api.js","components/Loader/Loader.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","s","container","showNotification","message","toast","warn","notify","SearchBar","onSubmit","useState","searchQuery","setSearchQuery","form","e","preventDefault","trim","button","type","Provider","value","reactIcons","label","input","name","autoComplete","autoFocus","placeholder","onChange","target","Status","apiServise","clientQuery","currentPage","url","fetch","then","response","json","Spinner","spinner","color","height","width","ImageGalleryItem","image","alt","id","item","src","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","overlay","onClick","currentTarget","modal","Button","page","ImageGallery","modalState","onToggleModal","query","setQuery","setPage","status","setStatus","modalImageSrc","setModalImageSrc","modalImageAlt","setModalImageAlt","setStatusRejected","hits","length","catch","error","scrollTo","top","documentElement","scrollHeight","behavior","list","nodeName","current","find","toString","largeImageURL","tags","map","webformatURL","App","showModal","setShowModal","queryValue","toLowerCase","autoClose","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.194c6a0a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__1Gp_5\",\"image\":\"ImageGallery_image__2-cUF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__WRfvV\",\"image\":\"ImageGalleryItem_image__YY1BQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1diO_\",\"modal\":\"Modal_modal__gG3BE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2Aalw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notify\":\"notification_notify__2eWRF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loader_spinner__2PTnM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2lrA7\"};","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.any.isRequired,\n};\n\nexport default Container;\n","import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './notification.module.css';\n\nconst clientErrorEmptyQuery =\n  'Incorrect query! Please enter your request in the correct form';\n\nconst clientErrorInvalidQuery =\n  'Sorry, the service cannot process your requestðŸ˜¨. Try again, please';\n\nconst serverError =\n  'Sorry, there are some technical problems ðŸ˜±ðŸ˜±ðŸ˜±. Please, try again later';\n\nconst showNotification = message => {\n  toast.warn(message, { className: `${s.notify}` });\n};\n\nexport {\n  clientErrorEmptyQuery,\n  clientErrorInvalidQuery,\n  serverError,\n  showNotification,\n};\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { FiSearch } from 'react-icons/fi';\nimport { IconContext } from 'react-icons';\nimport s from './Searchbar.module.css';\nimport {\n  clientErrorEmptyQuery,\n  showNotification,\n} from '../../services/notification/notification';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleChangeForm = e => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n    if (searchQuery.trim() === '') {\n      showNotification(clientErrorEmptyQuery);\n    }\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n\n  return (\n    <header className={s.container}>\n      <form className={s.form} onSubmit={handleSubmitForm}>\n        <button className={s.button} type=\"submit\">\n          <IconContext.Provider value={{ className: `${s.reactIcons}` }}>\n            <FiSearch />\n          </IconContext.Provider>\n        </button>\n\n        <label className={s.label}>\n          <input\n            className={s.input}\n            type=\"text\"\n            name=\"searchQuery\"\n            value={searchQuery}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChangeForm}\n          />\n        </label>\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport { Status };\n","const apiServise = (clientQuery, currentPage) => {\n  const PUBLIC_URL = 'https://pixabay.com/api/';\n  const KEY = '19018418-5cf416ff9d3b144c810bafa25';\n  const url = `${PUBLIC_URL}?q=${clientQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(url).then(response => response.json());\n};\n\nexport { apiServise };\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst Spinner = () => {\n  return (\n    <div className={s.spinner}>\n      <Loader type=\"Circles\" color=\"#a6c0fe\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, alt, id }) => {\n  return (\n    <li className={s.item} id={id}>\n      <img className={s.image} src={image} alt={alt} id={id} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#root-modal');\n\nconst Modal = ({ children, onClose }) => {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleBackdropClick}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n};\n\nModal.propTypes = {\n  children: PropTypes.any.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ page, onClick }) => {\n  return (\n    <button\n      className={s.button}\n      type=\"button\"\n      onClick={() => {\n        onClick(page);\n      }}\n    >\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  page: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport s from './ImageGallery.module.css';\nimport {\n  clientErrorInvalidQuery,\n  serverError,\n  showNotification,\n} from '../../services/notification/notification';\nimport { Status } from '../../services/status';\nimport { apiServise } from '../../services/image-api';\nimport Spinner from '../Loader';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Modal from '../Modal';\nimport Button from '../Button';\n\nconst ImageGallery = ({\n  searchQuery,\n  currentPage,\n  modalState,\n  onToggleModal,\n}) => {\n  const [query, setQuery] = useState(null);\n  const [page, setPage] = useState(currentPage);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [modalImageSrc, setModalImageSrc] = useState(null);\n  const [modalImageAlt, setModalImageAlt] = useState(null);\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n    setPage(currentPage);\n\n    const setStatusRejected = message => {\n      setStatus(Status.REJECTED);\n      showNotification(message);\n    };\n\n    const firstLoading = value => {\n      setQuery(value);\n      setPage(page => page + 1);\n      setStatus(Status.RESOLVED);\n    };\n\n    apiServise(searchQuery, currentPage)\n      .then(({ hits }) =>\n        hits.length === 0\n          ? setStatusRejected(clientErrorInvalidQuery)\n          : firstLoading(hits),\n      )\n      .catch(error => {\n        setStatusRejected(serverError);\n      });\n\n    return () => setStatus(Status.IDLE);\n  }, [currentPage, searchQuery]);\n\n  const openModal = e => {\n    if (e.target.nodeName === 'IMG') {\n      onToggleModal();\n      const current = query.find(({ id }) => id.toString() === e.target.id);\n      setModalImageSrc(current.largeImageURL);\n      setModalImageAlt(current.tags);\n    }\n  };\n\n  const loadMore = () => {\n    apiServise(searchQuery, page).then(({ hits }) => {\n      setQuery([...query, ...hits]);\n      setPage(page => page + 1);\n      setStatus(Status.RESOLVED);\n      scrollTo();\n    });\n  };\n\n  const scrollTo = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  if (status === Status.IDLE || status === Status.REJECTED) {\n    return <></>;\n  }\n  if (status === Status.PENDING) {\n    return <Spinner />;\n  }\n\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        <ul className={s.list} onClick={openModal}>\n          {query.map(({ id, webformatURL, tags }) => (\n            <ImageGalleryItem\n              key={id}\n              image={webformatURL}\n              alt={tags}\n              id={id}\n            />\n          ))}\n        </ul>\n\n        {modalState && (\n          <Modal onClose={onToggleModal}>\n            <img className={s.image} src={modalImageSrc} alt={modalImageAlt} />\n          </Modal>\n        )}\n\n        <Button page={page} onClick={loadMore} />\n      </>\n    );\n  }\n};\n\nImageGallery.propTypes = {\n  modalState: PropTypes.bool.isRequired,\n  onToggleModal: PropTypes.func.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  searchQuery: PropTypes.string.isRequired,\n};\n\nexport default ImageGallery;\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from '../Container';\nimport SearchBar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\n\nconst App = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n\n  const hadleSubmit = queryValue => {\n    setSearchQuery(queryValue.toLowerCase());\n  };\n\n  return (\n    <Container>\n      <SearchBar onSubmit={hadleSubmit} />\n      <ImageGallery\n        searchQuery={searchQuery}\n        currentPage={currentPage}\n        modalState={showModal}\n        onToggleModal={() => setShowModal(!showModal)}\n      />\n      <ToastContainer autoClose={4500} style={{ width: '700px' }} />\n    </Container>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Searchbar_container__2aljU\",\"form\":\"Searchbar_form__1X2Cr\",\"button\":\"Searchbar_button__JaaD7\",\"reactIcons\":\"Searchbar_reactIcons__1uplg\",\"label\":\"Searchbar_label__2PYQu\",\"input\":\"Searchbar_input__1xwnh\"};"],"sourceRoot":""}